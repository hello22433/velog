<h1 id="msa란">MSA란?</h1>
<p>원래 하나의 프로젝트에서 여러 도메인으로 나누는게 익숙하다.
하지만 서비스가 커지다보면 하나의 프로젝트 안에서 모든 걸 다루기는 버거워진다.
이를 위해 도메인 등으로 서비스들을 각 프로젝트로 나눠서 관리하는게 MSA이다.</p>
<p><img alt="" src="https://velog.velcdn.com/images/hello22433/post/e4a2bf7f-8639-4eef-ab8b-d229b383f8d8/image.png" /> (단일구조:모놀리 -&gt; MSA구조)</p>
<h1 id="근데-서비스들끼리는-어떻게-통신해">근데 서비스들끼리는 어떻게 통신해?</h1>
<ol>
<li>webClient 형식으로 동기적인 요청응답 형식으로 하거나</li>
<li>큐를 활용해서 비동기 방식으로 요청응답 형식으로 할 수 있다.</li>
</ol>
<p><img alt="" src="https://velog.velcdn.com/images/hello22433/post/50ab5388-4a46-4e7e-8336-3caa70fd7688/image.png" />(비동기큐)</p>
<h3 id="동기방식으로-하면-서비스의-유연한-관리가-어렵다">동기방식으로 하면 서비스의 유연한 관리가 어렵다.</h3>
<p>왜냐하면 하나의 서비스에서 에러가 나면 연관 서비스는 강하게 결합되어 있기 때문에 에러 처리가 어려워진다.</p>
<h3 id="비동기방식으로-하면-비교적-유연한-관리가-가능하다">비동기방식으로 하면 비교적 유연한 관리가 가능하다.</h3>
<p>요청응답이 일어날 때까지 서비스가 기다리지 않아도 되니 유연해질 뿐만 아니라,
비즈니스 로직에서 에러를 직접 관리할 필요가 없으니 에러처리도 용이해진다. </p>
<h3 id="그렇다고-동기방식이-무조건-안쓰이는-것은-아니다">그렇다고 동기방식이 무조건 안쓰이는 것은 아니다.</h3>
<p>주문 시 재고 확인, 사용자 로그인 시 계정 유효성 확인 같이
결과를 즉시 반영해야 하는 경우에는 동기식이 활용될 수 있다.</p>
<h3 id="결론은-아키텍처에-대해서-정확한-이해를-하고-있어야-함">결론은.. 아키텍처에 대해서 정확한 이해를 하고 있어야 함.</h3>
<p>개발자의 덕목은 적재적소에 맞는 기술을 적용하는 것이기 때문.</p>
<h1 id="실제로-구현하게-되면">실제로 구현하게 되면?</h1>
<h3 id="여러-개념들이-너무-어렵다-보상-트랜잭션-아웃박스-패턴-dlq-멱등성">여러 개념들이 너무 어렵다... 보상 트랜잭션, 아웃박스 패턴, DLQ, 멱등성...</h3>
<p>하지만 한 번 끝내놓으면 아주 익숙한 개념이니 절대 피하지 말것.
피하지 못하면 즐겨야 하는게 공부 아니겠는가.</p>
<p>실제 프로젝트에서 활용했을 때, 아키텍처 자체에 대해 배울 수 있었던 부분이었던 것 같다.
배움은 고통스럽지만 결과는 역시 달콤하다.</p>
<p><img alt="" src="https://velog.velcdn.com/images/hello22433/post/ea107672-c7a3-431a-8be1-7cc5eb5ab7a9/image.png" /></p>